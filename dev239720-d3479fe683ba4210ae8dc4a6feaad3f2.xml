<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2024-06-25 11:59:44"><sys_remote_update_set action="INSERT_OR_UPDATE"><application display_value="Global">global</application><application_name>Global</application_name><application_scope>global</application_scope><application_version/><collisions/><commit_date/><deleted/><description>This Update Set Contain Pagination use case.&#13;
Created Scripted Rest API&#13;
and Fetched CI's from CMDB CI Table.&#13;
</description><inserted/><name>Paganiation Use Case</name><origin_sys_id/><parent/><release_date/><remote_base_update_set/><remote_parent_id/><remote_sys_id>d3479fe683ba4210ae8dc4a6feaad3f2</remote_sys_id><state>loaded</state><summary/><sys_class_name>sys_remote_update_set</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-06-25 11:59:44</sys_created_on><sys_id>f71910c983c70210ae8dc4a6feaad3a7</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-06-25 11:59:44</sys_updated_on><update_set/><update_source/><updated/></sys_remote_update_set><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Global">global</application><category>customer</category><comments/><name>sys_ws_operation_832a472a837a4210ae8dc4a6feaad3e6</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ws_operation"&gt;&lt;sys_ws_operation action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;consumes&gt;application/json,application/xml,text/xml&lt;/consumes&gt;&lt;consumes_customized&gt;false&lt;/consumes_customized&gt;&lt;default_operation_uri/&gt;&lt;enforce_acl&gt;cf9d01d3e73003009d6247e603f6a990&lt;/enforce_acl&gt;&lt;http_method&gt;GET&lt;/http_method&gt;&lt;name&gt;FetchCI's&lt;/name&gt;&lt;operation_script&gt;&lt;![CDATA[(function process(/*RESTAPIRequest*/ request, /*RESTAPIResponse*/ response) {

    // Implement resource logic here
    
    var pageSize = request.pathParams.pageSize;
    var pageNumber = request.pathParams.pageNumber;

    // Default pagination values
    pageSize = pageSize ? parseInt(pageSize, 10) : 10;
    pageNumber = pageNumber ? parseInt(pageNumber, 10) : 1;

    // Calculate offset
    var offset = (pageNumber - 1) * pageSize;

    var ciList = [];

    var grCI = new GlideRecord('cmdb_ci');
    grCI.chooseWindow(offset, offset + pageSize);

    // Example values for testing
    pageSize = 10;
    pageNumber = 3;
    // 10 * 3 = 30

    grCI.query();

    while (grCI.next()) {
        ciList.push({
            sys_id: grCI.getUniqueValue(),
            name: grCI.getDisplayValue()
        });
    }

    return ciList;

})(request, response);]]&gt;&lt;/operation_script&gt;&lt;operation_uri&gt;/api/818429/pagination_api_s/cmdb/{pageNumber}/{pageSize}&lt;/operation_uri&gt;&lt;produces&gt;application/json,application/xml,text/xml&lt;/produces&gt;&lt;produces_customized&gt;false&lt;/produces_customized&gt;&lt;relative_path&gt;/cmdb/{pageNumber}/{pageSize}&lt;/relative_path&gt;&lt;request_example/&gt;&lt;requires_acl_authorization&gt;true&lt;/requires_acl_authorization&gt;&lt;requires_authentication&gt;true&lt;/requires_authentication&gt;&lt;requires_snc_internal_role&gt;true&lt;/requires_snc_internal_role&gt;&lt;short_description/&gt;&lt;sys_class_name&gt;sys_ws_operation&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2024-06-18 06:28:48&lt;/sys_created_on&gt;&lt;sys_id&gt;832a472a837a4210ae8dc4a6feaad3e6&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;FetchCI's&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ws_operation_832a472a837a4210ae8dc4a6feaad3e6&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2024-06-18 07:31:35&lt;/sys_updated_on&gt;&lt;web_service_definition display_value="Pagination API's"&gt;6b0a832a837a4210ae8dc4a6feaad3f0&lt;/web_service_definition&gt;&lt;web_service_version/&gt;&lt;/sys_ws_operation&gt;&lt;/record_update&gt;</payload><payload_hash>1748138457</payload_hash><remote_update_set display_value="Paganiation Use Case">f71910c983c70210ae8dc4a6feaad3a7</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>admin</sys_created_by><sys_created_on>2024-06-25 11:59:44</sys_created_on><sys_id>731910c983c70210ae8dc4a6feaad3a8</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>1902a4223600000001</sys_recorded_at><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-06-25 11:59:44</sys_updated_on><table/><target_name>FetchCI's</target_name><type>Scripted REST Resource</type><update_domain>global</update_domain><update_guid>739853eaa6ba4210101ead46b090c6b1</update_guid><update_guid_history>739853eaa6ba4210101ead46b090c6b1:1748138457,f69853ea01ba4210f5e99530748dcbad:337216064,5b069fe6a9ba4210e58af55410a1a4a1:1748138457,cfcac36a827a421089ed0d7b1bdddef4:-1517473825,15ba0f2aa47a4210f5ccca3072c3d843:341690335,b33ac72a507a4210df42d424b1aab7a1:1899019938</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Global">global</application><category>customer</category><comments/><name>sys_ws_definition_6b0a832a837a4210ae8dc4a6feaad3f0</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ws_definition"><sys_ws_definition action="INSERT_OR_UPDATE"><active>true</active><base_uri>/api/818429/pagination_api_s</base_uri><consumes>application/json,application/xml,text/xml</consumes><consumes_customized>false</consumes_customized><default_version>No active default version</default_version><doc_link/><enforce_acl>cf9d01d3e73003009d6247e603f6a990</enforce_acl><is_versioned>false</is_versioned><name>Pagination API's</name><namespace>818429</namespace><produces>application/json,application/xml,text/xml</produces><produces_customized>false</produces_customized><service_id>pagination_api_s</service_id><short_description/><sys_class_name>sys_ws_definition</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2024-06-18 06:28:10</sys_created_on><sys_id>6b0a832a837a4210ae8dc4a6feaad3f0</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Pagination API's</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_ws_definition_6b0a832a837a4210ae8dc4a6feaad3f0</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-06-18 07:31:52</sys_updated_on></sys_ws_definition></record_update>]]></payload><payload_hash>-833774946</payload_hash><remote_update_set display_value="Paganiation Use Case">f71910c983c70210ae8dc4a6feaad3a7</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>admin</sys_created_by><sys_created_on>2024-06-25 11:59:44</sys_created_on><sys_id>bf1910c983c70210ae8dc4a6feaad3a7</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>1902a4263980000001</sys_recorded_at><sys_updated_by>admin</sys_updated_by><sys_updated_on>2024-06-25 11:59:44</sys_updated_on><table/><target_name>Pagination API's</target_name><type>Scripted REST API</type><update_domain>global</update_domain><update_guid>37a89b6a51ba42107e90693038b93b41</update_guid><update_guid_history>37a89b6a51ba42107e90693038b93b41:-833774946,bea8176ad77a4210010544863d332315:-209357827,661a072a987a4210bf6f0363aeefad39:-833774946</update_guid_history><update_set/><view/></sys_update_xml></unload>